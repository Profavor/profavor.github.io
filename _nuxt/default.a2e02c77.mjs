import{a as H,v as I,N as z,m as R,K as q,O as F,o as l,c as b,H as p,a7 as G,a2 as Y,a3 as ee,C as m,R as e,G as k,X as P,u as o,L,W as T,Z as E,a8 as te,I as D,S as $,D as se,a4 as oe,$ as ae,b as ne,a1 as re,Q as le,w as ce,M as ie,F as J,E as ue}from"./entry.b2d48240.mjs";import{u as de}from"./useAdmin.12eeb711.mjs";import{f as fe,m as he,p as pe,v as A,r as me}from"./MenuIcon.cec48d22.mjs";import{r as _e}from"./XIcon.af7c9baa.mjs";import{t as M,c as ge,u as U,l as j,P as V,o as S,p as xe,R as K,b as B}from"./use-outside-click.dba50023.mjs";import{b as ve}from"./use-resolve-button-type.7c80fd7a.mjs";var ye=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(ye||{});let Q=Symbol("DisclosureContext");function N(a){let n=F(Q,null);if(n===null){let c=new Error(`<${a} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(c,N),c}return n}let X=Symbol("DisclosurePanelContext");function be(){return F(X,null)}let we=H({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(a,{slots:n,attrs:c}){let i=`headlessui-disclosure-button-${M()}`,s=`headlessui-disclosure-panel-${M()}`,u=I(a.defaultOpen?0:1),_=I(null),g=I(null),x={buttonId:i,panelId:s,disclosureState:u,panel:_,button:g,toggleDisclosure(){u.value=U(u.value,{[0]:1,[1]:0})},closeDisclosure(){u.value!==1&&(u.value=1)},close(v){x.closeDisclosure();let y=(()=>v?v instanceof HTMLElement?v:v.value instanceof HTMLElement?S(v):S(x.button):S(x.button))();y==null||y.focus()}};return z(Q,x),ge(R(()=>U(u.value,{[0]:j.Open,[1]:j.Closed}))),()=>{let{defaultOpen:v,...y}=a,w={open:u.value===0,close:x.close};return V({theirProps:y,ourProps:{},slot:w,slots:n,attrs:c,name:"Disclosure"})}}}),O=H({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(a,{attrs:n,slots:c,expose:i}){let s=N("DisclosureButton"),u=be(),_=u===null?!1:u===s.panelId,g=I(null);i({el:g,$el:g}),_||q(()=>{s.button.value=g.value});let x=ve(R(()=>({as:a.as,type:n.type})),g);function v(){var d;a.disabled||(_?(s.toggleDisclosure(),(d=S(s.button))==null||d.focus()):s.toggleDisclosure())}function y(d){var r;if(!a.disabled)if(_)switch(d.key){case B.Space:case B.Enter:d.preventDefault(),d.stopPropagation(),s.toggleDisclosure(),(r=S(s.button))==null||r.focus();break}else switch(d.key){case B.Space:case B.Enter:d.preventDefault(),d.stopPropagation(),s.toggleDisclosure();break}}function w(d){switch(d.key){case B.Space:d.preventDefault();break}}return()=>{let d={open:s.disclosureState.value===0},r=_?{ref:g,type:x.value,onClick:v,onKeydown:y}:{id:s.buttonId,ref:g,type:x.value,"aria-expanded":a.disabled?void 0:s.disclosureState.value===0,"aria-controls":S(s.panel)?s.panelId:void 0,disabled:a.disabled?!0:void 0,onClick:v,onKeydown:y,onKeyup:w};return V({ourProps:r,theirProps:a,slot:d,attrs:n,slots:c,name:"DisclosureButton"})}}}),ke=H({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(a,{attrs:n,slots:c,expose:i}){let s=N("DisclosurePanel");i({el:s.panel,$el:s.panel}),z(X,s.panelId);let u=xe(),_=R(()=>u!==null?u.value===j.Open:s.disclosureState.value===0);return()=>{let g={open:s.disclosureState.value===0,close:s.close},x={id:s.panelId,ref:s.panel};return V({ourProps:x,theirProps:a,slot:g,attrs:n,slots:c,features:K.RenderStrategy|K.Static,visible:_.value,name:"DisclosurePanel"})}}});function W(a,n){return l(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})])}const $e={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ce={class:"flex items-center justify-between h-16"},De={class:"flex items-center"},Se=e("div",{class:"flex-shrink-0"},[e("img",{class:"h-8 w-8",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-500.svg",alt:"Workflow"})],-1),Be={class:"hidden md:block"},Pe={class:"ml-10 flex items-baseline space-x-4"},Le={class:"hidden md:block"},Ee={class:"ml-4 flex items-center md:ml-6"},Oe={type:"button",class:"bg-gray-800 p-1 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white"},Ie=e("span",{class:"sr-only"},"View notifications",-1),je=$("Login"),He=e("span",{class:"sr-only"},"Open user menu",-1),Re=$("Logout"),Ve={class:"-mr-2 flex md:hidden"},Ne=e("span",{class:"sr-only"},"Open main menu",-1),Te={class:"px-2 pt-2 pb-3 space-y-1 sm:px-3"},Ae={class:"pt-4 pb-3 border-t border-gray-700"},Me={class:"flex items-center px-5"},Ue={class:"flex-shrink-0"},Ke={class:"ml-3"},We={class:"text-base font-medium leading-none text-white"},ze={class:"text-sm font-medium leading-none text-gray-400"},Fe={type:"button",class:"ml-auto bg-gray-800 flex-shrink-0 p-1 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white"},Ge=e("span",{class:"sr-only"},"View notifications",-1),Je={class:"mt-3 px-2 space-y-1"},Qe=$("Logout"),Xe={__name:"Header",async setup(a){let n,c;const i=se,s={name:"Tom Cook",email:"tom@example.com",imageUrl:"/avatar.jpg"},u=([n,c]=G(()=>$fetch("/api/menu")),n=await n,c(),n),_=u.navigation,g=u.userNavigation,x=Y();de();const{logout:v}=ee();async function y(){try{await v(),await oe("/")}catch(w){console.error(w)}}return(w,d)=>{const r=ae;return l(),b(o(we),{as:"nav",class:"bg-gray-800"},{default:m(({open:f})=>[e("div",$e,[e("div",Ce,[e("div",De,[Se,e("div",Be,[e("div",Pe,[(l(!0),k(L,null,P(o(_),t=>(l(),b(o(i),{key:t.name,to:t.href,activeClass:"bg-gray-900 text-white",class:E(["text-gray-300 hover:bg-gray-700 hover:text-white","px-3 py-2 rounded-md text-sm font-medium"])},{default:m(()=>[$(D(t.name),1)]),_:2},1032,["to"]))),128))])])]),e("div",Le,[e("div",Ee,[e("button",Oe,[Ie,p(o(W),{class:"h-6 w-6","aria-hidden":"true"})]),o(x)?T("",!0):(l(),b(o(i),{key:0,to:"/login",class:"bg-gray-900 text-white"},{default:m(()=>[je]),_:1})),o(x)?(l(),b(o(fe),{key:1,as:"div",class:"ml-3 relative"},{default:m(()=>[e("div",null,[p(o(he),{class:"max-w-xs bg-gray-800 rounded-full flex items-center text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white"},{default:m(()=>[He,p(r,{class:"h-10 w-10 rounded-full",src:s.imageUrl,alt:""},null,8,["src"])]),_:1})]),p(te,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:m(()=>[p(o(pe),{class:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:m(()=>[(l(!0),k(L,null,P(o(g),t=>(l(),b(o(A),{key:t.name},{default:m(({active:h})=>[p(o(i),{href:t.href,class:E([h?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},{default:m(()=>[$(D(t.name),1)]),_:2},1032,["href","class"])]),_:2},1024))),128)),p(o(A),null,{default:m(({active:t})=>[p(o(i),{onClick:y,class:E([t?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},{default:m(()=>[Re]),_:2},1032,["class"])]),_:1})]),_:1})]),_:1})]),_:1})):T("",!0)])]),e("div",Ve,[p(o(O),{class:"bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white"},{default:m(()=>[Ne,f?(l(),b(o(_e),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(l(),b(o(me),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)])])]),p(o(ke),{class:"md:hidden"},{default:m(()=>[e("div",Te,[(l(!0),k(L,null,P(o(_),t=>(l(),b(o(O),{key:t.name,as:o(i),href:t.href,activeClass:"bg-gray-900 text-white",class:E(["text-gray-300 hover:bg-gray-700 hover:text-white","block px-3 py-2 rounded-md text-base font-medium"])},{default:m(()=>[$(D(t.name),1)]),_:2},1032,["as","href"]))),128))]),e("div",Ae,[e("div",Me,[e("div",Ue,[p(r,{class:"h-10 w-10 rounded-full",src:s.imageUrl,alt:""},null,8,["src"])]),e("div",Ke,[e("div",We,D(s.name),1),e("div",ze,D(s.email),1)]),e("button",Fe,[Ge,p(o(W),{class:"h-6 w-6","aria-hidden":"true"})])]),e("div",Je,[(l(!0),k(L,null,P(o(g),t=>(l(),b(o(O),{as:o(i),key:t.name,href:t.href,class:"block px-3 py-2 rounded-md text-base font-medium text-gray-400 hover:text-white hover:bg-gray-700"},{default:m(()=>[$(D(t.name),1)]),_:2},1032,["as","href"]))),128)),p(o(O),{as:o(i),onClick:y,class:"block px-3 py-2 rounded-md text-base font-medium text-gray-400 hover:text-white hover:bg-gray-700"},{default:m(()=>[Qe]),_:1},8,["as"])])])]),_:1})]),_:1})}}},Ze={class:"flex","aria-label":"Breadcrumb"},qe={class:"inline-flex items-center space-x-1 md:space-x-3"},Ye={class:"inline-flex items-center"},et=e("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})],-1),tt=$(" Home "),st=[et,tt],ot=["onClick"],at=$(" / "),nt={class:"ml-3"},rt=e("li",null,[e("div",{class:"flex items-center"})],-1),lt={__name:"Breadcrumb",async setup(a){let n,c;const i=ne(),s=re(),u=([n,c]=G(()=>$fetch("/api/menu")),n=await n,c(),n),_=le([]),g=r=>r.split("/").reduce((f,t)=>{if(t){const h=f[f.length-1];h?f.push(h+"/"+t):f.push("/"+t)}return f},[]),x=r=>{const f=[];let t=u.navigation;return r.forEach(h=>{const C=t.find(Z=>Z.href===h);C&&(t=C.children),f.push(C)}),f},v=r=>/^(https?:|mailto:|tel:)/.test(r),y=(r,f="/")=>{if(!r)return;const t=[];return r.forEach(h=>{const C={label:h.name,key:v(h.href)||h.href.startsWith("/")?h.href:f+"/"+h.href,children:[]};h.children&&h.children.length>0?C.children=y(h.children,C.key):delete C.children,t.push(C)}),t},w=()=>{_.length=0;const r=x(g(i.path)),f=y(r);f&&_.push(...f)},d=r=>{s.push(r)};return ce(()=>i.fullPath,()=>{w()}),ie(()=>{w()}),(r,f)=>(l(),k("nav",Ze,[e("ol",qe,[e("li",Ye,[e("a",{onClick:f[0]||(f[0]=t=>d("/")),class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"},st)]),(l(!0),k(L,null,P(_,t=>(l(),k("li",{class:"flex items-center",key:t,"aria-current":"page"},[e("a",{onClick:h=>d(t.key),class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"},[at,e("span",nt,D(t.label),1)],8,ot)]))),128)),rt])]))}},ct={},it={class:"lg:flex lg:items-center lg:justify-between"};function ut(a,n){const c=lt;return l(),k("div",it,[p(c)])}const dt=J(ct,[["render",ut]]),ft={},ht={class:"min-h-full"},pt={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},mt={class:"px-4 py-6 sm:px-0"};function _t(a,n){const c=Xe,i=dt;return l(),k("div",ht,[p(c),p(i),e("main",null,[e("div",pt,[e("div",mt,[ue(a.$slots,"default")])])])])}const kt=J(ft,[["render",_t]]);export{kt as default};
